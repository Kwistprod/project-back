{"version":3,"sources":["webpack:///./src/views/Signin.vue","webpack:///./src/views/Signin.vue?9237","webpack:///./src/views/Signin.vue?17f5"],"names":["class","type","placeholder","user","login","password","send","name","data","methods","axios","post","then","res","status","$store","commit","id","surname","phone","localStorage","setItem","$router","push","userId","alert","console","log","catch","err","render"],"mappings":"qKACSA,MAAM,wB,EACP,yBAAwB,YAAlB,eAAW,G,GACZA,MAAM,Q,wDAFf,yBAOM,MAPN,EAOM,CANF,EACA,yBAIM,MAJN,EAIM,C,4BAHF,yBAA4D,SAArDC,KAAK,OAAOC,YAAY,Q,qDAAiB,EAAAC,KAAKC,MAAK,K,4BAAV,EAAAD,KAAKC,S,4BACrD,yBAAoE,SAA7DH,KAAK,WAAWC,YAAY,S,qDAAkB,EAAAC,KAAKE,SAAQ,K,4BAAb,EAAAF,KAAKE,YAC1D,yBAAoC,UAA3B,QAAK,8BAAE,EAAAC,MAAA,EAAAA,KAAA,sBAAM,a,oCAMnB,GACXC,KAAK,SACLC,KAFW,WAGP,MAAM,CACFL,KAAK,CACDC,MAAM,GACNC,SAAS,MAIrBI,QAAQ,CACGH,KADH,WACS,2JACa,IAAnB,EAAKH,KAAKC,OAAqC,IAAtB,EAAKD,KAAKE,SAD7B,gCAEC,EAAKK,MAAMC,KAAK,iBAAkB,EAAKR,MAC5CS,MAAK,SAAAC,GACgB,MAAfA,EAAIC,QACH,EAAKC,OAAOC,OAAO,QAASH,EAAIL,KAAKS,IACrC,EAAKF,OAAOC,OAAO,WAAYH,EAAIL,KAAKJ,OACxC,EAAKW,OAAOC,OAAO,UAAWH,EAAIL,KAAKD,MACvC,EAAKQ,OAAOC,OAAO,aAAcH,EAAIL,KAAKU,SAC1C,EAAKH,OAAOC,OAAO,WAAYH,EAAIL,KAAKW,OAExCC,aAAaC,QAAQ,SAAUR,EAAIL,KAAKS,IACxCG,aAAaC,QAAQ,YAAaR,EAAIL,KAAKJ,OAC3CgB,aAAaC,QAAQ,WAAYR,EAAIL,KAAKD,MAC1Ca,aAAaC,QAAQ,cAAeR,EAAIL,KAAKU,SAC7CE,aAAaC,QAAQ,YAAaR,EAAIL,KAAKW,OAC3C,EAAKG,QAAQC,KAAK,KAClB,EAAKb,MAAMC,KAAK,mBAAoB,CAACa,OAAQX,EAAIL,KAAKS,KAAKL,MAAK,SAAAC,GAC5D,EAAKE,OAAOC,OAAO,aAAcH,EAAIL,WAGzCiB,MAAM,UACNC,QAAQC,IAAId,EAAIC,YAGvBc,OAAM,SAAAC,GACHJ,MAAM,UACNC,QAAQC,IAAI,WAAYE,MA3BvB,gD,UClBrB,EAAOC,OAASA,EAED,gB,oCCPf","file":"js/chunk-61869d14.1f574cd0.js","sourcesContent":["<template>\r\n    <div class=\"wrapper_content_sign\">\r\n        <span>Авторизация</span>\r\n        <div class=\"sign\">\r\n            <input type=\"text\" placeholder=\"Email\" v-model=\"user.login\">\r\n            <input type=\"password\" placeholder=\"Пароль\" v-model=\"user.password\">\r\n            <button @click=\"send\">Войти</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:'Signin',\r\n    data(){\r\n        return{\r\n            user:{\r\n                login:'',\r\n                password:'',\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n         async send(){\r\n            if(this.user.login != '' && this.user.password != ''){\r\n                await this.axios.post('/api/user/auth', this.user)\r\n                .then(res=>{\r\n                    if(res.status === 200){\r\n                        this.$store.commit('setId', res.data.id);\r\n                        this.$store.commit('setLogin', res.data.login);\r\n                        this.$store.commit('setName', res.data.name);\r\n                        this.$store.commit('setSurname', res.data.surname);\r\n                        this.$store.commit('setPhone', res.data.phone);\r\n                        //save to ls\r\n                        localStorage.setItem(\"userId\", res.data.id);\r\n                        localStorage.setItem(\"userLogin\", res.data.login);\r\n                        localStorage.setItem(\"userName\", res.data.name);\r\n                        localStorage.setItem(\"userSurname\", res.data.surname);\r\n                        localStorage.setItem(\"userPhone\", res.data.phone);\r\n                        this.$router.push(\"/\");\r\n                        this.axios.post('/api/courses/get', {userId: res.data.id}).then(res=>{\r\n                            this.$store.commit(\"setCourses\", res.data);\r\n                        });\r\n                    } else {\r\n                        alert('Ошибка');\r\n                        console.log(res.status);\r\n                    }\r\n                })\r\n                .catch(err=>{\r\n                    alert('Ошибка');\r\n                    console.log('err :>> ', err);\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n$color: #7fc7a8;\r\n.wrapper_content_sign{\r\n    padding: 2rem 0;\r\n    span{\r\n        font-size:2rem;\r\n    }\r\n    input{\r\n        color: rgba(0, 0, 0, 0.925);\r\n        font-size: 1.35rem;\r\n        border:none;\r\n        border-bottom: .1rem solid rgba(0, 0, 0, 0.39);\r\n        margin: 1.4rem 0;\r\n    }\r\n    button{\r\n        margin-top: 1.4rem;\r\n        border:none;\r\n        background-color: $color;\r\n        padding: 1rem;\r\n        font-size: 1.2rem;\r\n    }\r\n}\r\nbutton:hover{\r\n  cursor:pointer;\r\n  background-color: #389b70;\r\n}\r\n.sign{\r\n    display:flex;\r\n    flex-direction: column;\r\n    margin: 5rem 40%;\r\n}\r\n</style>","import { render } from \"./Signin.vue?vue&type=template&id=74b243ee\"\nimport script from \"./Signin.vue?vue&type=script&lang=js\"\nexport * from \"./Signin.vue?vue&type=script&lang=js\"\n\nimport \"./Signin.vue?vue&type=style&index=0&id=74b243ee&lang=scss\"\nscript.render = render\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Signin.vue?vue&type=style&index=0&id=74b243ee&lang=scss\""],"sourceRoot":""}